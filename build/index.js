!function(){"use strict";var e={};function t(){return t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var n=window.wp.element,o=window.wp.hooks,r=window.wp.domReady,a=e.n(r),i=window.wp.components,l=window.wp.i18n,s=window.wp.data,c=window.wp.editor,u=window.wp.coreData;const d={per_page:-1,orderby:"name",order:"asc",_fields:"id,name,parent,slug",context:"view"},p="_10up_primary_category";var g=function(e){const{OriginalComponent:t}=e,{dbCategories:o,postMeta:r,postCategories:a,loading:g}=(0,s.useSelect)((e=>({dbCategories:e(u.store).getEntityRecords("taxonomy","category",d),postMeta:e(c.store).getEditedPostAttribute("meta"),postCategories:e(c.store).getEditedPostAttribute("categories"),loading:e(u.store).isResolving("getEntityRecords",["taxonomy","category",d])})),[]),{editPost:y}=(0,s.useDispatch)(c.store),m=e=>y({meta:e}),w=0!=!(null==o||!o.length)?a.map((e=>{const t=o.find((t=>t.id===e));return{label:null==t?void 0:t.name,value:null==t?void 0:t.slug}})):[];(0,n.useEffect)((()=>{null!=w&&w.length&&!w.find((e=>e.value===r._10up_primary_category))?m({[p]:w[0].value}):0===(null==w?void 0:w.length)&&m({[p]:""})}),[a]);const f=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{if(!1===f.current&&0===a.length&&null!=o&&o.length){const e=o.find((e=>"uncategorized"===e.slug))||o[0];y({categories:[e.id]}),f.current=!0}})),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(t,e),(0,n.createElement)("div",{style:{marginTop:"10px"}}),!g&&(0,n.createElement)(i.SelectControl,{label:(0,l.__)("Primary Category:","10up-primary-category"),value:r._10up_primary_category,onChange:e=>{m({[p]:e})},options:w}))};a()((()=>{(0,o.addFilter)("editor.PostTaxonomyType","tenup-primary-category",(e=>o=>"category"===o.slug?(0,n.createElement)(g,t({OriginalComponent:e},o)):(0,n.createElement)(e,o)))}))}();